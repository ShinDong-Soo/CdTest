

# 🧠 문제 이해: 배열 만들기 4

### 목표

* 주어진 `arr` 배열로 새로운 배열 `stk`를 만들어야 함
* 다음과 같은 규칙을 반복해서 적용:

### 반복 조건

| 조건                     | 동작                         |
| ---------------------- | -------------------------- |
| `stk`가 비어있다            | `arr[i]`를 `stk`에 추가, `i++` |
| `stk.Last() < arr[i]`  | `arr[i]`를 `stk`에 추가, `i++` |
| `stk.Last() >= arr[i]` | `stk`에서 마지막 원소 제거 (`Pop`)  |

### 반복 중단 조건: `i == arr.Length`

---

## 🔍 입력 & 출력 예시

```text
입력: arr = [1, 4, 2, 5, 3]
출력: [1, 2, 3]

과정:
i=0: stk=[]      → push 1        → stk=[1]
i=1: stk=[1]     → 4 > 1         → push 4 → stk=[1,4]
i=2: stk=[1,4]   → 2 < 4         → pop    → stk=[1]
i=2: stk=[1]     → 2 > 1         → push 2 → stk=[1,2]
i=3: stk=[1,2]   → 5 > 2         → push 5 → stk=[1,2,5]
i=4: stk=[1,2,5] → 3 < 5         → pop    → stk=[1,2]
i=4: stk=[1,2]   → 3 > 2         → push 3 → stk=[1,2,3]
```

---

## 🎯 풀이 전략 (초보자용)

1. `stk`는 `List<int>`로 선언
2. `i = 0`부터 시작해서 `i < arr.Length` 동안 while 루프 사용
3. 조건 3개를 if-else로 구현:

   * `stk.Count == 0`
   * `stk[stk.Count - 1] < arr[i]`
   * `stk[stk.Count - 1] >= arr[i]`
4. 반복 끝나면 `stk.ToArray()`로 반환

---

## ✅ C# 코드 예시

```csharp
using System;
using System.Collections.Generic;

public class Solution {
    public int[] solution(int[] arr) {
        List<int> stk = new List<int>();
        int i = 0;

        while (i < arr.Length)
        {
            if (stk.Count == 0)
            {
                stk.Add(arr[i]);
                i++;
            }
            else if (stk[stk.Count - 1] < arr[i])
            {
                stk.Add(arr[i]);
                i++;
            }
            else
            {
                stk.RemoveAt(stk.Count - 1);
            }
        }

        return stk.ToArray();
    }
}
```

---

## ✅ C# 초보자 학습 포인트

| 개념                            | 설명                                   |
| ----------------------------- | ------------------------------------ |
| `List<int>`                   | 배열처럼 동작하면서 유동적인 크기                   |
| `stk.Count`                   | 리스트의 현재 크기 (0이면 비어 있음)               |
| `stk[stk.Count - 1]`          | 리스트의 마지막 원소 (`Peek`)                 |
| `stk.RemoveAt(stk.Count - 1)` | 마지막 원소 제거 (`Pop`)                    |
| `stk.Add(x)`                  | 맨 뒤에 값 추가 (`Push`)                   |
| `ToArray()`                   | `List<int>` → `int[]` 변환 (반환 형식 맞추기) |

---

## ✅ Notion 정리 요약

### 💡 핵심 알고리즘 흐름

1. `while (i < arr.Length)` 루프
2. 조건 3가지 분기 처리:

   * 스택이 비어있다
   * `stk.Last() < arr[i]`
   * `stk.Last() >= arr[i]`
3. 조건 따라 `stk.Add()`, `stk.RemoveAt()` 수행
4. 마지막에 `stk.ToArray()`로 반환

